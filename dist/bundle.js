!function(t){var e={};function i(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);const o=document.querySelector("#game"),r=o.getContext("2d");var h=class{constructor(){this.width=50,this.height=20,this.x=o.width/2,this.y=o.height-(this.height+10)}show(){r.fillStyle="white",r.fillRect(this.x,this.y,this.width,this.height)}move(t){this.x<=0&&-1===t||this.x+this.width>=o.width&&1===t||(this.x+=3*t)}};const n=document.querySelector("#game").getContext("2d");var s=class{constructor(t,e){this.width=5,this.height=15,this.x=t,this.y=e}show(){n.fillStyle="white",n.fillRect(this.x,this.y,this.width,this.height)}fire(){this.y-=5}};const c=document.querySelector("#game").getContext("2d"),l=(document.querySelector("#up"),document.querySelector("#down"));var d=class{constructor(t,e){this.width=40,this.height=40,this.x=t,this.y=e,this.destroyed=!1,this.xdir=.5}show(){c.drawImage(l,this.x,this.y,this.width,this.height)}destroy(){this.destroyed=!0}move(){this.x+=this.xdir}shift(){this.y+=this.height/2,this.xdir*=-1}};const u=document.querySelector("#game"),a=u.getContext("2d");document.querySelector("#up"),document.querySelector("#down");u.width=600,u.height=400;let y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0],f=!1;const w=new h;let g,x,m,p,v,S,k=!1;const q=u.width,A=u.height;function b(){g=[],x=[],m=0,p=0,v=45,S="playing",function(){for(let t=0;t<=y.length;t++)if(1===y[t]){const e=new d(t%30*20,20*Math.floor(t/30));x.push(e)}}()}function R(t,e,i,o,r,h){a.fillStyle=t,a.textAlign=e,a.font=`${i}px Arial`,a.fillText(o,r,h)}function E(){a.clearRect(0,0,q,A),a.fillStyle="black",a.fillRect(0,0,q,A)}window.addEventListener("keydown",t=>{if("ArrowLeft"===t.key&&(m=-1),"ArrowRight"===t.key&&(m=1)," "===t.key&&0!==v&&0===g.length){const t=new s(w.x+w.width/2,w.y);g.push(t),v--}"p"===t.key&&(f=!f),"r"===t.key&&b()}),window.addEventListener("keyup",t=>{"ArrowLeft"!==t.key&&"ArrowRight"!==t.key||(m=0)}),b(),function t(){switch(window.requestAnimationFrame(t),S){case"playing":f||(E(),R("white","start",20,`Score ${p}`,10,20),R("white","start",20,`Ammo - ${v}`,100,20),w.show(),w.move(m),g.forEach(t=>{t.show(),t.fire()}),function(){for(let t=g.length-1;t>=0;t--)x.forEach(e=>{e.destroyed||g[t]&&g[t].y<=e.y&&g[t].y>=e.y-e.height&&g[t].x<=e.x+e.width&&g[t].x>=e.x&&(g.splice(t,1),e.destroy(),p+=1)}),g[t]&&g[t].y<=0&&g.splice(t,1)}(),function(){for(let t=x.length-1;t>=0;t--)x[t].destroyed?x[t].destroyed&&x.splice(t,1):(x[t].show(),x[t].move());x.forEach(t=>{(t&&t.x+t.width>=q||t.x<0)&&(k=!0)}),k&&(x.forEach(t=>{t.shift()}),k=!1)}(),0===x.length&&(S="win"),0===v&&0===g.length&&x.length>0&&(S="lose"));break;case"win":E(),R("lime","center",40,"You destroyed all of the Aliens",q/2,A/2),R("lime","center",25,'Press "R" to restart',q/2,A-10);break;case"lose":E(),R("red","center",40,"Game Over!",q/2,A/2),R("red","center",25,`You ran out of ammo with ${x.length} enemies remaining`,q/2,A/2+40),R("red","center",25,'Press "R" to restart',q/2,A-10)}}()}]);